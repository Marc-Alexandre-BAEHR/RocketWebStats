<% 
    const teamPlayers = match.players.filter(p => p.TeamName === teamName);
    const isWinner = match.winner === teamName;
    const teamTotalScore = teamPlayers.reduce((sum, p) => sum + parseInt(p.Score), 0);
%>

<tr class="<%= player.TeamName === match.winner ? 'table_tWinner' : 'table_tLoser' %>"
    id="<%= player.TeamName === match.teams[0] ? 'team0' : 'team1'%>">
    
    <% if (player===teamPlayers[0]) { %>
        <td rowspan="<%= teamPlayers.length %>" class="table_team"
            style="font-weight:'<%= isWinner ? 'bold' : 'normal' %>'; font-size: 2rem;">
            <%= match.teamsData[player.TeamName].goals %>
            <%= isWinner ? '+' : '' %>
        </td> 
    <% } %>
    
    <td class="table_player <%= player.PlayerName === match.mvp.PlayerName ? 'table_player_mvp' : ''%>">
        <a class="a_link"
            href="https://rocketleague.tracker.network/rocket-league/profile/<%= match.platform[player.PlayerName][1] %>/<%= player.PlayerName %>/overview"
            id="<%= player.TeamName === match.teams[0] ? 'team0' : 'team1'%>" target="_blank">
            <%= player.PlayerName %>
            <%= player.PlayerName===match.mvp.PlayerName ? ' +' : '' %>
        </a>
    </td>

    <td class="table_platform">
        <img src="<%= match.platform[player.PlayerName][2] %>">

    </td>
    
    <td class="table_score">
        <%= player.Score %>
    </td>
    
    <td class="table_goal">
        <%= player.Goals %>
    </td>
    
    <td class="table_assist">
        <%= player.Assists %>
    </td>
    
    <td class="table_save">
        <%= player.Saves %>
    </td>
    
    <td class="table_shot">
        <%= player.Shots %>
    </td>
    
    <td class="table_possession">
        <%= player.PossessionTime %>
    </td>
</tr>